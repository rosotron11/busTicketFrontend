<div class="dashboard">
  <div class="header">
    <h1>Operator Dashboard</h1>
  </div>
  
  <div class="stats-card">
    <h2>Total Stats</h2>
    <div class="stats-row">
      <div class="stat-box">
        <div class="value">{{totalStats.totalTicket || 0}}</div>
        <div class="label">Total Tickets</div>
      </div>
      <div class="stat-box">
        <div class="value">{{totalStats.bookedTicket || 0}}</div>
        <div class="label">Booked but Unpaid</div>
      </div>
      <div class="stat-box">
        <div class="value">{{totalStats.paidTicket || 0}}</div>
        <div class="label">Paid & Confirmed</div>
      </div>
      <div class="stat-box">
        <div class="value">Rs. {{totalStats.totalAmount || 0}}</div>
        <div class="label">Total Payment Amount</div>
      </div>
    </div>
    <div class="stats-row">
      <div class="stat-box">
        <div class="value">{{totalStats.totalVendor || 0}}</div>
        <div class="label">Total Vendors</div>
      </div>
      <div class="stat-box">
        <div class="value">{{totalStats.totalBus || 0}}</div>
        <div class="label">Total Buses</div>
      </div>
      <div class="stat-box">
        <div class="value">Rs. {{totalStats.averageAmountPerTicket || 0}}</div>
        <div class="label">Avg. Amount Per Ticket</div>
      </div>
      <div class="stat-box">
        <div class="value">Rs. {{totalStats.averageAmountPerBus || 0}}</div>
        <div class="label">Avg. Amount Per Bus</div>
      </div>
    </div>
    <div class="chart-container">
      <canvas id="overallChart"></canvas>
    </div>
  </div>
  
  <div class="stats-card">
    <h2>Daily Ticket Statistics</h2>
    
    <div class="date-selector">
      <input type="date" [(ngModel)]="dateForTickets">
      <button (click)="getDailyTicketStats()">Get Daily Stats</button>
    </div>
    
    <div>
      <h3>For the day: {{dateForTickets}}</h3>
      <div class="stats-row">
        <div class="stat-box">
          <div class="value">{{dailyTicketStats.totalTicket || 0}}</div>
          <div class="label">Total Tickets</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyTicketStats.bookedTicket || 0}}</div>
          <div class="label">Booked but Unpaid</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyTicketStats.paidTicket || 0}}</div>
          <div class="label">Paid & Confirmed</div>
        </div>
        <div class="stat-box">
          <div class="value">Rs. {{dailyTicketStats.totalAmount || 0}}</div>
          <div class="label">Total Amount</div>
        </div>
        <div class="stat-box">
          <div class="value">Rs. {{dailyTicketStats.averageAmount || 0}}</div>
          <div class="label">Avg. Amount Per Ticket</div>
        </div>
      </div>
    </div>
    
    <div class="chart-container">
      <canvas id="ticketsChart"></canvas>
    </div>
  </div>
  
  <div class="stats-card">
    <h2>Daily Bus Statistics</h2>
    
    <div class="date-selector">
      <input type="date" [(ngModel)]="dateForBus">
      <button (click)="getDailyBusStats()">Get Daily Stats</button>
    </div>
    
    <div>
      <h3>For the day: {{dateForBus}}</h3>
      <div class="stats-row">
        <div class="stat-box">
          <div class="value">{{dailyBusStats.totalVendor || 0}}</div>
          <div class="label">Total Vendors</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyBusStats.totalBus || 0}}</div>
          <div class="label">Total Buses</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyBusStats.totalPassengers || 0}}</div>
          <div class="label">Total Passengers</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyBusStats.avPassengerPerBus || 0}}</div>
          <div class="label">Avg. Passengers Per Bus</div>
        </div>
      </div>
      <div class="stats-row">
        <div class="stat-box">
          <div class="value">{{dailyBusStats.totalTime || '0h 0m'}}</div>
          <div class="label">Total Journey Time</div>
        </div>
        <div class="stat-box">
          <div class="value">{{dailyBusStats.avJourneyTime || '0h 0m'}}</div>
          <div class="label">Avg. Journey Time</div>
        </div>
        <div class="stat-box">
          <div class="value">Rs. {{dailyBusStats.totalAmount || 0}}</div>
          <div class="label">Total Amount</div>
        </div>
        <div class="stat-box">
          <div class="value">Rs. {{dailyBusStats.averageAmount}}</div>
          <div class="label">Avg. Amount Per Bus</div>
        </div>
      </div>
    </div>
    <div class="chart-container">
      <canvas id="busChart"></canvas>
    </div>
  </div>
</div>